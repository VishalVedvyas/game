(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a(207)},108:function(e,t,a){},135:function(e,t){},138:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(12),o=a.n(s),r=(a(108),a(101)),i=a(17),c=a(18),u=a(21),m=a(19),h=a(20),d=a(14),v=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("button",{className:"square",onClick:this.props.onClick},this.props.value)}}]),t}(l.a.Component),f=a(91),p=a.n(f),g=a(92),y=a.n(g)()("http://ec2-13-233-130-32.ap-south-1.compute.amazonaws.com");function b(e){y.emit("updateTableValues",e)}a(138);var S=a(10),E=a.n(S),O=(a(147),function(e){function t(e){var a,n;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleState=a.handleState.bind(Object(d.a)(Object(d.a)(a))),a.state={gameRooms:[]},n=function(e){return a.handleState(e)},y.on("setGameRoomsStatus",function(e){return n(e)}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleState",value:function(e){var t=this,a=e.role,n=e.arrayValues.map(function(e){var t={};return t.label=e,t.value=e,t});this.setState({gameRooms:n},function(){"host"===a?t.props.handleModal(!0,"Choose a game room to host!",t.state.gameRooms):"tenant"===a?t.props.handleModal(!0,"Choose a game room to join and play!",t.state.gameRooms):"viewer"===a&&t.props.handleModal(!0,"Choose a game room to view game!",t.state.gameRooms)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(E.a,{style:{background:"#424242",fontFamily:"monospace"},onSelect:function(t){var a;a=t,y.emit("getGameRoomsStatus",a),e.props.setGameRole(t)}},l.a.createElement(E.a.Toggle,null),l.a.createElement(E.a.Nav,{defaultSelected:"home"},l.a.createElement(S.NavItem,{eventKey:"home"},l.a.createElement(S.NavIcon,null,l.a.createElement("i",{className:"fa fa-fw fa-home",style:{fontSize:"1.75em"}})),l.a.createElement(S.NavText,null,"Home")),l.a.createElement(S.NavItem,{eventKey:"host"},l.a.createElement(S.NavIcon,null,l.a.createElement("i",{className:"fa fa-fw fa-server",style:{fontSize:"1.75em"}})),l.a.createElement(S.NavText,null,"Host Game")),l.a.createElement(S.NavItem,{eventKey:"tenant"},l.a.createElement(S.NavIcon,null,l.a.createElement("i",{className:"fa fa-fw fa-user-plus",style:{fontSize:"1.75em"}})),l.a.createElement(S.NavText,null,"Join Game")),l.a.createElement(S.NavItem,{eventKey:"viewer"},l.a.createElement(S.NavIcon,null,l.a.createElement("i",{className:"fa fa-fw fa-eye",style:{fontSize:"1.75em"}})),l.a.createElement(S.NavText,null,"Watch Game")))))}}]),t}(n.Component)),w=a(102),N=a(209),j=a(210),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleShow=a.handleShow.bind(Object(d.a)(Object(d.a)(a))),a.handleClose=a.handleClose.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleClose",value:function(){this.props.showModal(!1)}},{key:"handleShow",value:function(){this.props.showModal(!0)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(N.a,{show:this.props.show,onHide:this.handleClose},l.a.createElement(N.a.Body,null,l.a.createElement("p",null,this.props.message),l.a.createElement(w.a,{value:this.props.selectedOption,onChange:function(t){e.props.setSelectedOption(t)},options:this.props.options})),l.a.createElement(N.a.Footer,null,l.a.createElement(j.a,{bsStyle:"primary",onClick:function(){e.props.setGameId(e.props.selectedOption.value)}},"Save"),l.a.createElement(j.a,{onClick:this.handleClose},"Close"))))}}]),t}(l.a.Component),R=function(e){function t(e){var a,n,l;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).gameRegisterHandle=a.gameRegisterHandle.bind(Object(d.a)(Object(d.a)(a))),a.state={values:Array(9).fill(null),isXNext:!0,selectedOption:null,gameRole:null,gameId:null,showModal:!1,gameKeys:[],modalMessage:"Default message"},n=function(e,t){return a.setState({values:e,isXNext:t})},console.log("Initial table values recieved",y),y.on("setTableValues",function(e){return n(e.values,e.isXNext)}),l=function(e){a.setState({values:Array(9).fill(null),isXNext:!0,selectedOption:null,gameRole:null,gameId:null,showModal:!1,gameKeys:[],modalMessage:"Default message"}),function(e){y.emit("leaveRoom",e)}(e)},y.on("endGame",function(e){return l(e)}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){var t=this.state.gameRole;if("host"===t&&this.state.isXNext){var a=this.state.values.slice();a[e]="X",this.setState({values:a}),b({gameKey:this.state.gameId,arrayValues:a,gameRole:t})}else if("tenant"===t&&!this.state.isXNext){var n=this.state.values.slice();n[e]="O",this.setState({values:n}),b({gameKey:this.state.gameId,arrayValues:n,gameRole:t})}}},{key:"handleModalState",value:function(e,t,a){this.setState({showModal:e,gameKeys:a,modalMessage:t})}},{key:"setGameId",value:function(e){var t=this;this.setState({gameId:e},function(){t.gameRegisterHandle()})}},{key:"setModalSelectOption",value:function(e){this.setState({selectedOption:e})}},{key:"setGameRole",value:function(e){this.setState({gameRole:e})}},{key:"leaveGame",value:function(){!function(e){y.emit("leaveGame",e)}({gameKey:this.state.gameId,gameRole:this.state.gameRole})}},{key:"showModal",value:function(e){this.setState({showModal:e})}},{key:"gameRegisterHandle",value:function(){!function(e){y.emit("gameSetup",e)}({gameKey:this.state.gameId,role:this.state.gameRole})}},{key:"renderSquare",value:function(e){var t=this;return l.a.createElement(v,{value:this.state.values[e],onClick:function(){return t.handleClick(e)}})}},{key:"calculateWinner",value:function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<t.length;a++){var n=Object(r.a)(t[a],3),l=n[0],s=n[1],o=n[2];if(e[l]&&e[l]===e[s]&&e[l]===e[o])return e[l]}return null}},{key:"render",value:function(){var e,t=this,a=this.calculateWinner(this.state.values);return console.log(this.state),e=this.state.gameId?l.a.createElement("button",{className:"btn-primary leaveButton",onClick:function(){return t.leaveGame()}},"Leave Game"):l.a.createElement(O,{handleModal:function(e,a,n){return t.handleModalState(e,a,n)},setGameRole:function(e){return t.setGameRole(e)}}),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row content"},l.a.createElement("div",{className:"col-sm-12 App"},l.a.createElement(p.a,null),e,l.a.createElement(k,{show:this.state.showModal,options:this.state.gameKeys,message:this.state.modalMessage,selectedOption:this.state.selectedOption,setGameId:function(e){return t.setGameId(e)},setSelectedOption:function(e){return t.setModalSelectOption(e)},showModal:function(e){return t.showModal(e)},registerGameOnServer:function(){return t.gameRegisterHandle()}}),l.a.createElement("div",{className:"containment"},l.a.createElement("div",{className:"status"},a?"Winner "+a:this.state.isXNext?"X's turn!":"O's turn!"),l.a.createElement("div",{className:"board-row"},this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)),l.a.createElement("div",{className:"board-row"},this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)),l.a.createElement("div",{className:"board-row"},this.renderSquare(6),this.renderSquare(7),this.renderSquare(8))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[103,2,1]]]);
//# sourceMappingURL=main.1a085337.chunk.js.map